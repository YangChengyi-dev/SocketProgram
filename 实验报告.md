# Socket 聊天室实验报告

## 一、实验背景
- 探索局域网环境下的实时通信机制与多人交互设计
- 通过 TCP 套接字实现多人聊天与图片点对点传输

## 二、设计原理
- TCP 聊天
  - 长连接、服务端多线程处理客户端
  - 文本协议：广播、定向消息（@昵称:内容）、命令（/list、/nick、/help、/quit）
  - 图片传输：Base64 编码后分片在文本通道发送，接收端重组并落盘

## 三、实验环境和总体设计
- 环境：Windows 10/11，Python 3.8+，局域网网络可达
- 依赖：纯标准库（socket、threading、sys、os、base64）
- 设计：
  - 服务器：tcpSerSock.py 负责连接管理、广播、定向与命令分发
  - 客户端：tcpCliSock1/2/3.py 提供交互、命令与图片发送/接收

## 四、详细实验过程
1. 启动 TCP 服务器与多个客户端
   - 服务器：python tcpSerSock.py
   - 客户端：python tcpCliSock1.py（或 2/3）
2. 聊天与命令演示
   - 广播：直接输入消息
   - 私聊：@Alice:你好
   - 在线列表：/list
   - 改昵称：/nick NewName
   - 帮助：/help
   - 退出：quit 或 /quit
3. 图片点对点传输
   - 发送方输入：/img @Alice d:\pictures\cat.png
   - 接收方自动重组并保存到 received_images 目录，提示保存路径
4. 其他交互
   - 服务器端可输入消息进行广播；输入 quit 退出

## 五、实验测试与分析（含 AI 辅助价值）
- TCP 聊天与图片传输
  - 多客户端并发连接稳定；昵称唯一性与在线列表正常
  - 图片传输采用文本通道分片，适合中小型图片；过大图片会产生更多分片，建议后续升级为二进制协议或独立文件服务
- AI 辅助价值
  - 快速对现有代码进行增量改造（昵称唯一性、命令体系、图片传输）
  - 自动生成文档结构，提高实验复现与交流效率
  - 提供后续优化方向建议（二进制协议、断点续传、服务端持久日志、图片广播等）

## 六、总结
- 在不削减原有功能的前提下，系统完成了聊天核心功能与图片点对点传输，并提供了易用的命令帮助
- 后续可扩展功能：图片广播、服务端消息持久化、心跳保活/断线重连、二进制高效传输、权限与黑名单机制
